---
title: Calathea Theme
author: Tyler
date: '2020-05-15'
slug: calathea-theme
categories: []
tags: []
keywords:
  - tech
summary: "An elegant theme for growth and flow."
thumbnailImage: /post/2020-05-15-calathea-theme_files/icon_thumbnail.png
thumbnailImagePosition: "left"
---

<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>


<p>This post goes through the work for the Calathea color scheme. I assembled this color scheme because having the code syntax highlighting on my website mismatching the rest of the site design annoyed me. That resulted in a RStudio theme. You can check out the project <a href="https://github.com/WilliamTylerBradley/Calathea" target="_blank">here</a>.</p>
<div style="display: grid; grid-template-columns: 1fr 1fr; align-items: center; grid-column-gap: 10px; align-items: start;">
<div>
<p>The base of the color scheme comes from the <a href="https://en.wikipedia.org/wiki/Calathea" target="_blank">Calathea genus</a>, which is a popular houseplant. I picked the colors by pulling them from searching <a href="https://www.google.com/search?as_st=y&amp;tbm=isch&amp;as_q=calathea" target="_blank">Google</a> or pictures I had. These were images downloaded from the web, and then the colors were picked using the Paint app on Windows 10. Any color picker in a browser or app will probably work. I saved all of the base colors as hex codes in a <a href="https://github.com/WilliamTylerBradley/Calathea/blob/main/Calathea.csv" target="_blank">csv</a>. I played around with the colors by using <a href="https://www.color-hex.com/" target="_blank">color-hex.com</a>. Inputting a hex color here will give you several variations on shades, tints, and monochromatic colors. These options are useful when I wanted something a little brighter or darker.</p>
</div>
<div>
<div class="figure">
<img src="/post/2020-05-15-calathea-theme_files/calathea.JPG" alt="My Calathea Medallion" style="display:block; margin:auto;" />
<p class="caption">
My Calathea Medallion
</p>
</div>
</div>
</div>
<p>I tested out the colors by making an icon image. The icon was mostly for fun but did produce a suitable code file to test out the colors in RStudio. There are three different versions, one for each background. The code to create them can be found <a href="https://github.com/WilliamTylerBradley/Calathea/blob/main/r_code/icon.R" target="_blank">here</a>.</p>
<p></br></p>
<div style="display: grid; grid-template-columns: 1fr 1fr 1fr; align-items: center; grid-column-gap: 10px; ">
<div>
<div class="figure">
<img src="/post/2020-05-15-calathea-theme_files/icon.png" alt="base background" height = 175px; style="display:block; margin:auto;" />
<p class="caption">
base background
</p>
</div>
</div>
<div>
<div class="figure">
<img src="/post/2020-05-15-calathea-theme_files/icon_highlight.png" alt="selection/highlight" height = 175px; style="display:block; margin:auto;" />
<p class="caption">
selection/highlight
</p>
</div>
</div>
<div>
<div class="figure">
<img src="/post/2020-05-15-calathea-theme_files/icon_chunk.png" alt="R Markdown chunk" height = 175px; style="display:block; margin:auto;" />
<p class="caption">
R Markdown chunk
</p>
</div>
</div>
</div>
<p>The foreground/background contrasts were determined to see if they passed WCAG AA standards for normal text. All the foreground colors have at least a 4.5:1 contrast with all the background colors.</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Feature
</th>
<th style="text-align:left;">
Color
</th>
<th style="text-align:right;">
Base Background
</th>
<th style="text-align:right;">
Selection/Highlight
</th>
<th style="text-align:right;">
R markdown chunk
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Code
</td>
<td style="text-align:left;">
White
</td>
<td style="text-align:right;">
13.50
</td>
<td style="text-align:right;">
11.05
</td>
<td style="text-align:right;">
15.32
</td>
</tr>
<tr>
<td style="text-align:left;">
Comment
</td>
<td style="text-align:left;">
Purple
</td>
<td style="text-align:right;">
5.66
</td>
<td style="text-align:right;">
4.63
</td>
<td style="text-align:right;">
6.42
</td>
</tr>
<tr>
<td style="text-align:left;">
Keyword Contants
</td>
<td style="text-align:left;">
Pink
</td>
<td style="text-align:right;">
10.97
</td>
<td style="text-align:right;">
8.99
</td>
<td style="text-align:right;">
12.45
</td>
</tr>
<tr>
<td style="text-align:left;">
Keyword Functions
</td>
<td style="text-align:left;">
Green
</td>
<td style="text-align:right;">
5.51
</td>
<td style="text-align:right;">
4.51
</td>
<td style="text-align:right;">
6.25
</td>
</tr>
<tr>
<td style="text-align:left;">
Number
</td>
<td style="text-align:left;">
Dull
</td>
<td style="text-align:right;">
8.81
</td>
<td style="text-align:right;">
7.22
</td>
<td style="text-align:right;">
10.00
</td>
</tr>
<tr>
<td style="text-align:left;">
String
</td>
<td style="text-align:left;">
Yellow
</td>
<td style="text-align:right;">
11.81
</td>
<td style="text-align:right;">
9.67
</td>
<td style="text-align:right;">
13.40
</td>
</tr>
</tbody>
</table>
<p>I originally shot for AAA, but I couldnâ€™t get that working while having the foreground colors stand apart from each other. The code to determine the contrast values is <a href="https://github.com/WilliamTylerBradley/Calathea/blob/main/r_code/contrasts.R" target="_blank">here</a>.</p>
<p>I also attempted to check color-blindness compatibilities using this <a href="https://www.color-blindness.com/coblis-color-blindness-simulator/" target="_blank">simulator</a> from color-blindness.com. These colors look ok but might need improvement for monochrome.</p>
<div style="display: grid; grid-template-columns: 1fr 1fr 1fr; align-items: center; grid-column-gap: 10px; ">
<div>
<div class="figure">
<img src="/post/2020-05-15-calathea-theme_files/color_test_raw.png" alt="base colors" style="display:block; margin:auto;" />
<p class="caption">
base colors
</p>
</div>
</div>
<div>
<div class="figure">
<img src="/post/2020-05-15-calathea-theme_files/color_test_deuteranopia.png" alt="deuteranopia" style="display:block; margin:auto;" />
<p class="caption">
deuteranopia
</p>
</div>
</div>
<div>
<div class="figure">
<img src="/post/2020-05-15-calathea-theme_files/color_test_monochromacy.png" alt="monochromacy" style="display:block; margin:auto;" />
<p class="caption">
monochromacy
</p>
</div>
</div>
</div>
At the end of this process, I ended up with this set of colors.
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Feature
</th>
<th style="text-align:left;">
Color Name
</th>
<th style="text-align:left;">
HEXCOL
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;background-color: #1E271A !important;">
R Markdown Chunk
</td>
<td style="text-align:left;color: white !important;background-color: #1E271A !important;">
Darker Dark Green
</td>
<td style="text-align:left;color: white !important;background-color: #1E271A !important;">
#1E271A
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: #263121 !important;">
Background
</td>
<td style="text-align:left;color: white !important;background-color: #263121 !important;">
Dark Green
</td>
<td style="text-align:left;color: white !important;background-color: #263121 !important;">
#263121
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: #353E31 !important;">
Selection
</td>
<td style="text-align:left;color: white !important;background-color: #353E31 !important;">
Lighter Dark Green
</td>
<td style="text-align:left;color: white !important;background-color: #353E31 !important;">
#353E31
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: #353E31 !important;">
Highlight
</td>
<td style="text-align:left;color: white !important;background-color: #353E31 !important;">
Lighter Dark Green
</td>
<td style="text-align:left;color: white !important;background-color: #353E31 !important;">
#353E31
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #85B258 !important;">
Keyword Functions
</td>
<td style="text-align:left;background-color: #85B258 !important;">
Green
</td>
<td style="text-align:left;background-color: #85B258 !important;">
#85B258
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #C29CB7 !important;">
Comment
</td>
<td style="text-align:left;background-color: #C29CB7 !important;">
Purple
</td>
<td style="text-align:left;background-color: #C29CB7 !important;">
#C29CB7
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #CAD3C1 !important;">
Number
</td>
<td style="text-align:left;background-color: #CAD3C1 !important;">
Dull
</td>
<td style="text-align:left;background-color: #CAD3C1 !important;">
#CAD3C1
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #E9F5B9 !important;">
String
</td>
<td style="text-align:left;background-color: #E9F5B9 !important;">
Yellow
</td>
<td style="text-align:left;background-color: #E9F5B9 !important;">
#E9F5B9
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #FCFFFB !important;">
Code
</td>
<td style="text-align:left;background-color: #FCFFFB !important;">
White
</td>
<td style="text-align:left;background-color: #FCFFFB !important;">
#FCFFFB
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #FCFFFB !important;">
Keyword Operator
</td>
<td style="text-align:left;background-color: #FCFFFB !important;">
White
</td>
<td style="text-align:left;background-color: #FCFFFB !important;">
#FCFFFB
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #FFDFE5 !important;">
Keyword Contants
</td>
<td style="text-align:left;background-color: #FFDFE5 !important;">
Pink
</td>
<td style="text-align:left;background-color: #FFDFE5 !important;">
#FFDFE5
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #FFDFE5 !important;">
Python Meta
</td>
<td style="text-align:left;background-color: #FFDFE5 !important;">
Pink
</td>
<td style="text-align:left;background-color: #FFDFE5 !important;">
#FFDFE5
</td>
</tr>
</tbody>
</table>
<p>I set up the RStudio theme using the <a href="https://support.rstudio.com/hc/en-us/articles/115011846747-Using-RStudio-Themes#custom-editor-themes" target="_blank">Making and Sharing Themes instructions</a>. The only change from the tmTheme to the rstheme is a manual edit to the R markdown chunk. The default was too bright, so the edit makes it a lot darker. There are still some areas of the IDE that canâ€™t be edited without more advance CSS. I will deal with that another time.</p>
<div class="figure">
<img src="/post/2020-05-15-calathea-theme_files/screenshot.PNG" alt="RStudio" style="display:block; margin:auto;" />
<p class="caption">
RStudio
</p>
</div>
<p></br></p>
<div class="figure">
<img src="/post/2020-05-15-calathea-theme_files/screenshot_code.PNG" alt="RStudio code" style="display:block; margin:auto;" />
<p class="caption">
RStudio code
</p>
</div>
<p></br></p>
<div class="figure">
<img src="/post/2020-05-15-calathea-theme_files/screenshot_markdown.PNG" alt="RStudio R markdown" style="display:block; margin:auto;" />
<p class="caption">
RStudio R markdown
</p>
</div>
<p>The color scheme was converted to CSS files for Hexo and highlight.js <a href="https://github.com/WilliamTylerBradley/Calathea/tree/main/utilizations" target="_blank">here</a> using this <a href="https://github.com/WilliamTylerBradley/Calathea/blob/main/r_code/create_css_files.R" target="_blank">code</a>. To get these colors working syntax highlighting for blogdown, the custom CSS parameter needed to be set after moving the <code>calathea_hexo.css</code> to the CSS folder in static. The config file with these options:<code>[[params.customCSS]]</code> <code>href = "css/calathea_hexo.css"</code> will set up everything.</p>
<p>Finally, to get the color scheme working with the correct R code syntax on the website, the files for R code syntax for highlight.js were downloaded from <a href="https://cdnjs.com/libraries/highlight.js/" target="_blank">here</a> and moved to the js folder in the static folder. To have this blogdown theme use this JavaScript file, the config option <code>syntaxHighlighter = "highlight.js"</code> needed to be set. Then to get the r.min.js file working, the custom JavaScript parameter needed to be set, similar to the custom CSS option. The <code>[[params.customJS]]</code> <code>src = "js/r.min.js"</code> was put in the config file. SQL and Python are pre-built into the theme. However, a python.min.js file was adapted from <a href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/languages/python.min.js" target="_blank">highlight.js 9.8.0 file</a> with <code>None True False</code> moved to <code>literal</code> in order to get <code>None</code> to color successfully. The 9.8.0 version is needed to work with the current theme. This version number was found in the theme documentation.</p>
<pre class="r"><code>################################
## R code syntax highlighting ##
################################

library(ggplot2)

centre &lt;- function(x, type, ...) {
  switch(type,
         mean = mean(x),
         median = median(x),
         trimmed = mean(x, trim = .1))
}

myVar1
myVar.2
data$x
foo &quot;bar&quot; baz
# test &quot;test&quot;
&quot;test # test&quot;

(123) (1) (10) (0.1) (.2) (1e-7)
(1.2e+7) (2e) (3e+10) (0x0) (0xa)
(0xabcdef1234567890) (123L) (1L)
(0x10L) (10000000L) (1e6L) (1.1L)
(1e-3L) (4123.381E-10i)
(3.) (3.E10) # BUG: .E10 should be part of number

# Numbers in some different contexts
1L
0x40
.234
3.
1L + 30
plot(cars, xlim=20)
plot(cars, xlim=0x20)
foo&lt;-30
my.data.3 &lt;- read() # not a number
c(1,2,3)
1%%2

&quot;this is a quote that spans
multiple lines
\&quot;

is this still a quote? it should be.
# even still!

&quot; # now we&#39;re done.

&#39;same for
single quotes #&#39;

# keywords
NULL, NA, TRUE, FALSE, Inf, NaN, NA_integer_,
NA_real_, NA_character_, NA_complex_, function,
while, repeat, for, if, in, else, next, break,
..., ..1, ..2

# not keywords
the quick brown fox jumped over the lazy dogs
null na true false inf nan na_integer_ na_real_
na_character_ na_complex_ Function While Repeat
For If In Else Next Break .. .... &quot;NULL&quot; `NULL` &#39;NULL&#39;

# operators
+, -, *, /, %%, ^, &gt;, &gt;=, &lt;, &lt;=, ==, !=, !, &amp;, |, ~,
-&gt;, &lt;-, &lt;&lt;-, $, :, ::

# infix operator
foo %union% bar
%&quot;test&quot;%
`&quot;test&quot;`</code></pre>
<pre class="python"><code>################################
## Python syntax highlighting ##
################################

@requires_authorization
def somefunc(param1=&#39;&#39;, param2=0):
    r&#39;&#39;&#39;A docstring&#39;&#39;&#39;
    if param1 &gt; param2: # interesting
        print &#39;Gre\&#39;ater&#39;
    return (param2 - param1 + 1 + 0b10l) or None

class SomeClass:
    pass

&gt;&gt;&gt; message = &#39;&#39;&#39;interpreter
... prompt&#39;&#39;&#39;</code></pre>
<pre class="sql"><code>/***************************/
/* SQL syntax highlighting */
/***************************/

CREATE TABLE &quot;topic&quot; (
    &quot;id&quot; serial NOT NULL PRIMARY KEY,
    &quot;forum_id&quot; integer NOT NULL,
    &quot;subject&quot; varchar(255) NOT NULL
);
ALTER TABLE &quot;topic&quot;
ADD CONSTRAINT forum_id FOREIGN KEY (&quot;forum_id&quot;)
REFERENCES &quot;forum&quot; (&quot;id&quot;);

-- Initials
insert into &quot;topic&quot; (&quot;forum_id&quot;, &quot;subject&quot;)
values (2, &#39;D&#39;&#39;artagnian&#39;);</code></pre>
